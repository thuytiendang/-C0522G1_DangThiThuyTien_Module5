<div class="carousel-inner">
  <div class="carousel-item active">
    <img src="https://media-exp1.licdn.com/dms/image/C4E16AQFiC2NLc-A7GQ/profile-displaybackgroundimage-shrink_200_800/0/1547525105746?e=2147483647&v=beta&t=dDzduk_bPiLT9hWfIdJi0kyTP5pq9sV-GFG5DCeu8Rw"
         class="d-block w-100" style="height: 150px" alt="...">
    <div class="carousel-caption d-none d-md-block">
      <h1 style="font-size: 60px">CONTRACT</h1>
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="p-3">
    <nav class="navbar navbar-expand-lg py-0 my-0">
      <div class="container-fluid">
        <button class="btn btn-success btn-outline-success btn-sm" data-bs-toggle="modal"
                data-bs-target="#createContract">
          <span class="fa-solid fa-person-circle-plus text-light h5 my-auto me-1"></span>
          <span class="text-light">Add new contract</span>
        </button>
      </div>
    </nav>

    <!--    add new contract-->
    <div class="modal fade" id="createContract" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <form class="border border-2 border-success p-3 bg-warning bg-opacity-25 rounded formCSS"
                method="POST">
            <div class="modal-header">
              <h3 class="modal-title fw-bold text-success" id="exampleModalLabel5">ADD NEW CONTRACT</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
              <div class="form-group">
                <label class="h6 text-success" for="facility">Facility name:</label>
                <div class="input-group">
                  <select id="facility" class="form-select">
                    <option ></option>
                  </select>
                  <span class="input-group-text"><i class="fa-solid fa-file-signature"></i></span>
                </div>
              </div>

              <div class="mt-3 form-group">
                <label class="h6 text-success" for="employee">Employee name:</label>
                <div class="input-group">
                  <select id="employee" class="form-select">
                    <option></option>
                  </select>
                  <span class="input-group-text"><i class="fa-solid fa-person-circle-question"></i></span>
                </div>
              </div>

              <div class="mt-3 form-group">
                <label class="h6 text-success" for="customer">customer name:</label>
                <div class="input-group">
                  <select id="customer" class="form-select">
                    <option></option>
                  </select>
                  <span class="input-group-text"><i class="fa-solid fa-person-circle-question"></i></span>
                </div>
              </div>

              <div class="mt-3 form-group">
                <label for="datepicker" class="h6 text-success">Start date:</label>
                <input type="date" id="datepicker" class="form-control"/>
              </div>

              <div class="mt-3 form-group">
                <label for="datepicker1" class="h6 text-success">End date:</label>
                <input type="date" id="datepicker1" class="form-control"/>
              </div>

              <div class="mt-3 form-group">
                <label for="deposit" class="h6 text-success">Deposit (VNƒê):</label>
                <div class="input-group">
                  <input type="number" id="deposit" class="form-control"
                         placeholder="Input deposit..." required
                         pattern="^0|[1-9]\d*$"
                         title="deposit must be greater than or equal 0."/>
                  <span class="input-group-text"><i class="fa-solid fa-money-bill-wave"></i></span>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-success" value="delete">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <table id="contractTable" class="table table-striped table-bordered m-2">
      <thead>
      <tr class="text-center bg-warning bg-opacity-50">
        <th class="text-center">Serial</th>
        <th>Facility</th>
        <th>Employee</th>
        <th>Customer</th>
        <th>Start day</th>
        <th>End day</th>
        <th>Deposit</th>
        <th>Attach facility</th>
      </tr>
      </thead>

      <tbody>
      <tr *ngFor="let contract of contractList; index as i">
        <td class="text-center">{{i + 1}}</td>
        <td>{{contract.facility}}</td>
        <td>{{contract.customer}}</td>
        <td>{{contract.employee}}</td>
        <td>{{contract.contractStartDate}}</td>
        <td>{{contract.contractEndDate}}</td>
        <td>{{contract.contractDeposit}}</td>
        <td class="text-center">
          <button class="btn btn-warning btn-outline-warning btn-sm" data-bs-toggle="modal"
                  data-bs-target="#addContractDetail">
            <span class="fa-solid fa-plus text-dark h6 m-auto"></span>
          </button>

          <a>
            <button class="btn btn-warning btn-outline-warning btn-sm ms-3 px-3">
              <span class="text-dark m-auto">Attach facility list</span>
            </button>
          </a>
        </td>
      </tr>


      </tbody>
    </table>

    <div class="modal fade" id="addContractDetail" tabindex="-1" aria-labelledby="exampleModalLabel1"
         aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <form class="border border-2 border-success p-3 rounded formCSS bg-warning bg-opacity-25" method="POST">
            <div class="modal-header">
              <h3 class="modal-title fw-bold text-success" id="exampleModalLabel4">ATTACH FACILITY LIST</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
              <div class="form-group">
                <input type="hidden" name="contractId" id="contractId"
                       readonly/>

                <div class="form-group">
                  <label class="h6 text-success" for="attachFacility">Attach facility name:</label>
                  <div class="input-group">
                    <select id="attachFacility" class="form-select">
                      <option></option>
                    </select>
                    <span class="input-group-text"><i class="fa-solid fa-file-signature"></i></span>
                  </div>
                </div>

                <div class="mt-3 form-group">
                  <label for="quantity" class="h6 text-success">Quantity:</label>
                  <div class="input-group">
                    <input type="number" id="quantity" class="form-control"
                           placeholder="Input quantity" required
                           pattern="^[1-9]\d*$"
                           title="Quantity must be greater than 0."/>
                    <span class="input-group-text">#</span>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-success" value="delete">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>


    <script>
      function addContractDetail(id) {
        document.getElementById("contractId").value = id;
      }

      $(function () {
        $("#datepicker").datepicker({
          dateFormat: 'dd/mm/yy',
          changeYear: true,
          changeMonth: true,
          yearRange: "-80:-18",
          minDate: "-80Y", maxDate: "-18Y"
        });
      });

      $(function () {
        $("#datepicker1").datepicker({
          dateFormat: 'dd/mm/yy',
          changeYear: true,
          changeMonth: true,
          yearRange: "-80:-18",
          minDate: "-80Y", maxDate: "-18Y"
        });
      });
    </script>
  </div>
</div>
